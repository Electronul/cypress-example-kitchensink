# machine:
#   node:
#     version: 5.10.0

# dependencies:
#   pre:
#     - npm install

#     ## install the Cypress CLI Tools
#     ## which gives us access to the
#     ## `cypress` command used below
#     - npm install -g cypress-cli

# test:
#   pre:
#     ## runs the 'start' script which
#     ## boots our local app server on port 8080
#     ## which cypress expects to be running
#     - npm start:
#         background: true
#   override:
#     ## now run cypress in CI mode
#     ## which runs all of the tests
#     ## and uses the CYPRESS_API_KEY
#     ## environment var by default
#     ## which you need to configure
#     ## on Circle CI behind the scenes
#     - cypress ci

#     ## alternatively we could specify
#     ## a specific secret key to use
#     ## like this without having to
#     ## configure anything in Circle CI:
#     ## - cypress ci 703b33d9-a00e-4c66-90c2-40efc0fee2c6

machine:
  node:
    version: 5.10.0
  environment:
    SELENIUM_HOST: hub.browserstack.com
    SELENIUM_PORT: 80
    BS_AUTOMATE_PROJECT: "Run on circleCI"
    BS_AUTOMATE_BUILD: "build No. $CIRCLE_BUILD_NUM for circleCI"
    SELENIUM_PLATFORM: WINDOWS
    SELENIUM_BROWSER: CHROME
    SELENIUM_VERSION: 9

test:
  override:
    - node selenium/example_spec.js
